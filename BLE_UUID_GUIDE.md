# Bluetooth UUID Generation Guide

## What are Bluetooth UUIDs?

UUIDs (Universally Unique Identifiers) are 128-bit numbers used to identify Bluetooth services and characteristics. They ensure that your BLE device can be uniquely identified and communicate properly with other devices.

## Types of UUIDs

### 1. **Standard UUIDs** (What I used in this project)
- Defined by the Bluetooth SIG (Special Interest Group)
- 16-bit or 32-bit numbers that get expanded to 128-bit
- Well-documented and widely supported
- Examples: `0x1800`, `0x2A00`, `0x2A08`

### 2. **Custom UUIDs**
- Generated by developers for specific applications
- Full 128-bit UUIDs
- More unique but less standardized
- Example: `550e8400-e29b-41d4-a716-446655440000`

## UUIDs Used in This Project

### Service UUID: `1800`
- **Name**: Generic Access Service
- **Purpose**: Standard service that all BLE devices must implement
- **Why I chose it**: Well-supported, commonly used, reliable

### Characteristic UUIDs:
- **`2A00`**: Device Name Characteristic (Generic Access Service)
- **`2A08`**: Date Time Characteristic (for time data)
- **`2A09`**: Day of Week Characteristic (repurposed for commands)

## How to Generate Custom UUIDs

### Method 1: Online Generators
```bash
# Visit these websites:
https://www.uuidgenerator.net/
https://www.uuidgenerator.net/version4
https://www.guidgenerator.com/
```

### Method 2: Command Line
```bash
# macOS/Linux
uuidgen
# Output: 12345678-1234-1234-1234-123456789ABC

# Windows PowerShell
[guid]::NewGuid()
# Output: 12345678-1234-1234-1234-123456789ABC

# Linux (alternative)
cat /proc/sys/kernel/random/uuid
# Output: 12345678-1234-1234-1234-123456789ABC
```

### Method 3: Programming Languages

#### Python
```python
import uuid

# Generate random UUID
custom_uuid = str(uuid.uuid4())
print(custom_uuid)
# Output: 550e8400-e29b-41d4-a716-446655440000

# Generate UUID from name (deterministic)
custom_uuid = str(uuid.uuid5(uuid.NAMESPACE_DNS, 'myalarmclock.com'))
print(custom_uuid)
# Output: 6ba7b810-9dad-11d1-80b4-00c04fd430c8
```

#### JavaScript/Node.js
```javascript
const { v4: uuidv4 } = require('uuid');

// Generate random UUID
const customUuid = uuidv4();
console.log(customUuid);
// Output: 550e8400-e29b-41d4-a716-446655440000
```

#### C#
```csharp
using System;

// Generate random UUID
Guid customUuid = Guid.NewGuid();
Console.WriteLine(customUuid.ToString());
// Output: 550e8400-e29b-41d4-a716-446655440000
```

## UUID Format

### Standard Format
```
xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
```

### Examples
- **Standard 16-bit**: `1800` â†’ `00001800-0000-1000-8000-00805f9b34fb`
- **Custom UUID**: `550e8400-e29b-41d4-a716-446655440000`

## Best Practices

### 1. **Use Standard UUIDs When Possible**
- Better compatibility
- Well-documented
- Less likely to conflict

### 2. **Generate Custom UUIDs for Unique Services**
- Use UUID v4 for random generation
- Use UUID v5 for deterministic generation
- Document your UUIDs

### 3. **UUID Naming Convention**
```python
# Good naming
ALARM_SERVICE_UUID = "550e8400-e29b-41d4-a716-446655440000"
ALARM_TIME_CHAR_UUID = "550e8400-e29b-41d4-a716-446655440001"
ALARM_COMMAND_CHAR_UUID = "550e8400-e29b-41d4-a716-446655440002"

# Bad naming
UUID1 = "550e8400-e29b-41d4-a716-446655440000"
UUID2 = "550e8400-e29b-41d4-a716-446655440001"
```

### 4. **UUID Version Guidelines**
- **v1**: Time-based (avoid for BLE)
- **v4**: Random (recommended for custom services)
- **v5**: Name-based (good for deterministic generation)

## Testing UUIDs

### 1. **Validate Format**
```python
import re

def is_valid_uuid(uuid_string):
    pattern = r'^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$'
    return bool(re.match(pattern, uuid_string.lower()))

# Test
print(is_valid_uuid("550e8400-e29b-41d4-a716-446655440000"))  # True
print(is_valid_uuid("invalid-uuid"))  # False
```

### 2. **Check for Conflicts**
- Use Bluetooth scanning tools to check for existing devices
- Test with multiple devices to ensure uniqueness
- Consider using a UUID prefix for your organization

## Tools for UUID Management

### 1. **Bluetooth Development Tools**
- **nRF Connect** (Nordic): Excellent for testing BLE devices
- **BLE Scanner** (Android): Good for device discovery
- **LightBlue** (iOS): Apple's BLE testing app

### 2. **UUID Databases**
- **Bluetooth SIG**: Official standard UUIDs
- **GitHub**: Search for existing UUID implementations
- **Stack Overflow**: Community UUID discussions

## Example: Converting This Project to Custom UUIDs

### 1. Generate Custom UUIDs
```bash
uuidgen
# Output: 550e8400-e29b-41d4-a716-446655440000
uuidgen
# Output: 550e8400-e29b-41d4-a716-446655440001
uuidgen
# Output: 550e8400-e29b-41d4-a716-446655440002
```

### 2. Update Pico 2W Code
```python
# Replace standard UUIDs with custom ones
_ALARM_SERVICE_UUID = bluetooth.UUID("550e8400-e29b-41d4-a716-446655440000")
_ALARM_CHAR_UUID = bluetooth.UUID("550e8400-e29b-41d4-a716-446655440001")
_TIME_CHAR_UUID = bluetooth.UUID("550e8400-e29b-41d4-a716-446655440002")
_COMMAND_CHAR_UUID = bluetooth.UUID("550e8400-e29b-41d4-a716-446655440003")
```

### 3. Update React Native App
```javascript
// Replace standard UUIDs with custom ones
const ALARM_SERVICE_UUID = '550e8400-e29b-41d4-a716-446655440000';
const ALARM_CHAR_UUID = '550e8400-e29b-41d4-a716-446655440001';
const TIME_CHAR_UUID = '550e8400-e29b-41d4-a716-446655440002';
const COMMAND_CHAR_UUID = '550e8400-e29b-41d4-a716-446655440003';
```

## Why I Chose Standard UUIDs

1. **Compatibility**: Standard UUIDs work better across different platforms
2. **Documentation**: Well-documented and understood by developers
3. **Reliability**: Less likely to have implementation issues
4. **Simplicity**: Easier to debug and troubleshoot

## When to Use Custom UUIDs

1. **Unique Services**: When creating a completely new service type
2. **Proprietary Features**: For company-specific functionality
3. **Multiple Services**: When you need many different services
4. **Version Control**: When you need to version your BLE services

## Resources

- [Bluetooth SIG UUID Database](https://www.bluetooth.com/specifications/assigned-numbers/)
- [UUID RFC 4122](https://tools.ietf.org/html/rfc4122)
- [MicroPython BLE Documentation](https://docs.micropython.org/en/latest/library/bluetooth.html)
- [React Native BLE PLX Documentation](https://github.com/Polidea/react-native-ble-plx)
